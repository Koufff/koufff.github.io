<!DOCTYPE html>
<<<<<<< HEAD
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="style.css">
<title>Форма обратной связи</title>
 <link rel="shortcut icon" href="favicon.png" type="image/png">
 <script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
 <script type="text/javascript" src="js/jquery.maskedinput.js"></script>
 <script type="text/javascript">
jQuery(function($){
   $("#phone").mask("+7 (999) 999-9999");
   $("#phone2").mask("+7 (999) 999-9999");
});
</script>
</head>
<body>

<!-- begin content  -->
<div class="content clearfix">
  <!-- begin post  -->
  <div class="post">
    <h1>Форма обратной связи</h1>
    <p class="description">
      Но Маск считает, что все как раз наоборот. У нас есть способ добраться до Марса за астрономическую сумму денег. Но нет способа колонизировать Марс. По мнению Маска, нам не хватает возможности добраться до Марса по доступной цене. Он называет США «народом исследователей» и «чистым духом жажды исследований» и верит, что если бы Марс был дешевле, появилось бы больше желающих туда отправиться. Но поскольку все это даже и близко не выглядит возможным, никто об этом не говорит, и воля людей отправиться на Марс пребывает в спячке.
    </p>

<div id="inline">
  <h2>Онлайн заявка</h2>
  <form id="contact" name="contact" action="#" method="post">
    <input type="name" id="name" name="name" class="txt" placeholder="Ваше имя">
    <input type="phone" id="phone" name="phone" class="txt" placeholder="Ваш телефон">
    <input type="email" id="email" name="email" class="txt" placeholder="Ваш e-mail"> 
    <textarea id="msg" name="msg" class="txtarea"  placeholder="Ваше сообщение:"></textarea>
    <button id="send">Отправить</button>
  </form>
</div>


<div style="margin:30px 0;">
По материалам сайта <a href="http://seoblognik.ru">Seoblognik.ru</a>
</div>

</div>
<!-- end post -->
	<!-- end content -->


<script type="text/javascript">
  function validateEmail(email) { 
    var reg = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return reg.test(email);
  }

  $(document).ready(function() {
    $("#contact").submit(function() { return false; });
    $("#send").on("click", function(){
      var emailval  = $("#email").val();
      var namevl  = $("#name").val();
      var phonevl  = $("#phone").val();
      var msgval    = $("#msg").val();
      var msglen    = msgval.length;
      var mailvalid = validateEmail(emailval);

      if(mailvalid == false) {
        $("#email").addClass("error");
      }
      else if(mailvalid == true){
        $("#email").removeClass("error");
      }
  if(mailvalid == false) {
        $("#name").addClass("error");
      }
      else if(mailvalid == true){
        $("#name").removeClass("error");
      }
      if(mailvalid == false) {
        $("#phone").addClass("error");
      }
      else if(mailvalid == true){
        $("#phone").removeClass("error");
      }
      if(msglen < 4) {
        $("#msg").addClass("error");
      }
      else if(msglen >= 4){
        $("#msg").removeClass("error");
      }
      
      if(mailvalid == true && msglen >= 4) {
        // если обе проверки пройдены
        // сначала мы скрываем кнопку отправки
        $("#send").replaceWith("<em>отправка...</em>");
        $.ajax({
          type: 'POST',
          url: 'sendmessage.php',
          data: $("#contact").serialize(),
          success: function(data) {
            if(data == "true") {
              $("#contact").fadeOut("fast", function(){
                $(this).before("<p><strong>Успешно! Ваше сообщение отправлено  :)</strong></p>");
                setTimeout("$.fancybox.close()", 1000);
              });
            }
          }
        });
      }
    });
  });
</script>

</body>
=======
<html>
  <head>
    <title>Игра жызнб</title>
    <link type="text/CSS" rel="stylesheet" href="styles.css" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <section class="wrapper" id="header">
      <h3>Игра жизнь</h3>
    </section>

    <section class="wrapper" id="content">
      <aside class="wrapper__leftside">
        <div class="col-2fr">
          <button id="start">Старт</button>
          <button id="randomSeed">Рандом</button>
        </div>
        <div class="all-stats">
          <div class="stat">
            <p>Итерация:</p>
            <span id="numberOfGenerations" style="color: #8854aa">0</span>
          </div>
          <div class="stat">
            <p>Живых клеток:</p>
            <span id="aliveСellsQuantity" style="color: #1ac044">0</span>
          </div>
          <div class="stat">
            <p>Мутаций:</p>
            <span id="numberOfGenerations" style="color: #ff3c00">0</span>
          </div>
          <div>
            <p id="cell-description"></p>
          </div>
        </div>
      </aside>

      <canvas id="field" width="300" height="300"> </canvas>
    </section>

    <script type="text/javascript">
      var canvas = document.getElementById("field");
      var cellDescription = document.getElementById('cell-description');

      var ctx = canvas.getContext("2d");
      var allCells = [];
      var numberOfGenerations = 1;
      var aliveСellsQuantity = 0;
      var timer;
      var points = [];
      var isSimulationStarted = false;
      
      function startLife() {
        var nextCellsGeneration = [];
        var setAliveСellsQuantity = 0;

        for (var i = 0; i < 30; i++) {
          nextCellsGeneration[i] = [];
          for (var j = 0; j < 30; j++) {
            if (allCells[i][j] == 1) setAliveСellsQuantity++;
            var neighbors = 0; // Ищем соседей
            if (allCells[normalizeTopLeftFieldPoint(i) - 1][j] == 1) neighbors++; // up
            if (allCells[i][normalizeBottomRightPoint(j) + 1] == 1) neighbors++; // right
            if (allCells[normalizeBottomRightPoint(i) + 1][j] == 1) neighbors++; // bottom
            if (allCells[i][normalizeTopLeftFieldPoint(j) - 1] == 1) neighbors++; // left
            if (allCells[normalizeTopLeftFieldPoint(i) - 1][normalizeBottomRightPoint(j) + 1] == 1) neighbors++;
            if (allCells[normalizeBottomRightPoint(i) + 1][normalizeBottomRightPoint(j) + 1] == 1) neighbors++;
            if (allCells[normalizeBottomRightPoint(i) + 1][normalizeTopLeftFieldPoint(j) - 1] == 1) neighbors++;
            if (allCells[normalizeTopLeftFieldPoint(i) - 1][normalizeTopLeftFieldPoint(j) - 1] == 1) neighbors++;

            // Стандартные правила игры жизнь

            if ((neighbors == 2 || neighbors == 3) && allCells[i][j] == 1) {
              nextCellsGeneration[i][j] = 1;
            } else {
              nextCellsGeneration[i][j] = 0;
            }

            if (neighbors == 3 && allCells[i][j] == 0) {
              nextCellsGeneration[i][j] = 1;
            }
          }
          
          isSimulationStarted = true;
        }

        allCells = nextCellsGeneration;

        drawField();
        numberOfGenerations++;
        document.getElementById("numberOfGenerations").innerHTML = numberOfGenerations;
        aliveСellsQuantity = setAliveСellsQuantity;
        document.getElementById("aliveСellsQuantity").innerHTML = aliveСellsQuantity;
        timer = setTimeout(startLife, 300);
      }

      function randomSeed() {
        var nextCellsGeneration = [];

        for (var i = 0; i < 30; i++) {
          nextCellsGeneration[i] = [];
          for (var j = 0; j < 30; j++) {
            nextCellsGeneration[i][j] = Math.round(Math.random());
          }
        }

        allCells = nextCellsGeneration;
        drawField();
        document.getElementById("numberOfGenerations").innerHTML = numberOfGenerations;
      }
      

      function drawField() {
        ctx.clearRect(0, 0, 300, 300);
        for (var i = 0; i < 30; i++) {
          for (var j = 0; j < 30; j++) {
            if (allCells[i][j] == 1) {
              var coordinates = {
                x: j * 10,
                y: i * 10,
              };

              var geometry = {
                width: 10,
                height: 10,
              };

              points.push(new Cell(coordinates, geometry));

              ctx.fillRect(j * 10, i * 10, 10, 10);
              ctx.fillStyle = "#4D6B75";
            }
          }
        }
      }

      function normalizeTopLeftFieldPoint(i) {
        // функция для тора если выходит вверх/влево за рамки
        if (i == 0) return 30;
        else return i;
      }
      function normalizeBottomRightPoint(i) {
        // функция для тора если выходит вниз/вправо за рамки
        if (i == 29) return -1;
        else return i;
      }
      

      function fillCellsArray() {
        var n = 30;
        var  m = 30;

        for (var i = 0; i < m; i++) {
          allCells[i] = [];
          for (var j = 0; j < n; j++) {
            allCells[i][j] = 0;
          }
        }
      }

      function drawCellInTheField(x, y) {
        addCellInTheField(x, y);
        drawField();
      }

      function addCellInTheField(x, y) {
        x = Math.floor(x / 10); //300 / 10 = 30
        y = Math.floor(y / 10);
        console.log(x);
        console.log(y);
        if (allCells[y][x] == 1) {
          allCells[y][x] = 0;
        } else {
          allCells[y][x] = 1;
        }
      }

      class Cell {
        constructor(coordinates, geometry) {
          this.x = coordinates.x;
          this.y = coordinates.y;
          this.width = geometry.width;
          this.height = geometry.height;
          this.bio = '#322228'
        }

        isInPath(x, y) {
          var halfWidth = this.width / 2;
          var halfHeight = this.height / 2;

          var diffX = Math.abs(this.x - x);
          var diffY = Math.abs(this.y - y);

          var isInXaxes = diffX < halfWidth; 
          var isInYaxes = diffY < halfHeight; 
          
          return isInXaxes && isInYaxes;
        }
      }

      function updateCellDescription(cell) {
        const description = `x: ${clickedCell.x}, y: ${clickedCell.y}, bio: ${clickedCell.bio}`;
        cellDescription.innerText = description;
      }

      document.getElementById("start").onclick = startLife;
      document.getElementById("randomSeed").onclick = randomSeed;
      
      
      canvas.onclick = function (event) {
        var x = event.offsetX;
        var y = event.offsetY;
        
        if (isSimulationStarted) {
          var clickedCell = points.find((cell) => cell.isInPath(x, y));

          if (clickedCell) {
            updateCellDescription(clickedCell)
          }
        } else {
          drawCellInTheField(x, y);
        }
      };

      fillCellsArray();
    </script>
  </body>
>>>>>>> 1d222d19adffcc23d9c4eada3b28d9df6d006725
</html>
